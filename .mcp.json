{
  "$schema": "https://github.com/modelcontextprotocol/specification/blob/main/schema/mcp.schema.json",
  "$comment": "===== PR Agent: CLI Tool + MCP Server =====",
  "$comment2": "This repository is primarily a CLI tool (pr-agent) for analyzing pull requests.",
  "$comment3": "It also includes an MCP server (src/mcp/) that exposes the same functionality via MCP.",
  "$comment4": "",
  "$comment5": "Setup: npm install --legacy-peer-deps && npm run build",
  "$comment6": "",
  "$comment7": "Available MCP Tools (see server.json for full schemas):",
  "$comment8": "  • analyze - Analyze PR/branch changes with diff parsing, risk detection, complexity scoring, Jira ticket extraction",
  "$comment9": "  • dashboard - Start web dashboard to view analysis history, code quality trends, and ROI metrics",
  "$comment10": "",
  "$comment11": "The MCP server imports and reuses the CLI's PRAnalyzerAgent and analysis tools.",
  "$comment12": "",
  "$comment13": "===== Required MCP Servers for Full Functionality =====",
  "$comment14": "For Jira integration: Install @modelcontextprotocol/server-atlassian",
  "$comment15": "For GitHub integration: Install @modelcontextprotocol/server-github",
  "$comment16": "The PR Agent extracts Jira ticket IDs, then Claude Code uses the Atlassian MCP server to fetch ticket details.",
  "mcpServers": {
    "pr-agent": {
      "command": "npm",
      "args": ["run", "mcp"],
      "env": {
        "NODE_ENV": "development"
      }
    },
    "atlassian": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-atlassian"]
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"]
    }
  }
}
